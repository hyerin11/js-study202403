<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    

    <button id="show">댓글 조회!</button>

    <script>
        
        // function fetchGet() {
        //     fetch('http://localhost:8383/api/v1/replies/400')
        //         .then(res => res.json())
        //         .then(json => {
        //             console.log(json);
        //         });
        // }


        function fetchGet() {
            const result = fetch('http://localhost:8383/api/v1/replies/400');
            //console.log(result); Promise {<pending>}를 줌

            const json = result.then(res => res.json());
            //console.log(json); //Promise {<pending>}를 주는데 여기서 배열만 꺼내고 싶음.

                const data = json.then(data => {
                    console.log('then내부:', data);
                    return '하하호호';
            });
                    console.log('then외부:', data);
                }





                //async함수는 기보적으로 Promise를 소비하는 함수이다.
                async function fetchGet2(){

                    //await : then메서드를 대신 호출해서 PrimiseResult를 바로 가져옴
                    const result = await fetch('http://localhost:8383/api/v1/replies/400');
                    //console.log(result);

                    const json = await result.json();
                    console.log(json);

                }



        document.getElementById('show').onclick = e => {
            //fetchGet();
            fetchGet2();
        };

    </script>

</body>
</html>